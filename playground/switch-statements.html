<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <style>
    .turt {
      position: relative;
      --x: 0;
      --y: 0;
      --rotate: 0;
      transform: translateX(var(--x)) translateY(var(--y)) rotateY(var(--rotate)) ;
      transition: transform 0.2s;
    }

  </style>

  <img width="200" src="./turtle.png" alt="turt" class="turt">
<script>
  const turtle = document.querySelector('.turt');
  let x = 0;
  let y = 0;
  const speed = 50;
  let flipped = false;
  function handleKeyDown(e){
    console.log(e.key);
    // if is not an arrow key we don't care
    if (!e.key.includes('Arrow')) return;
    switch (e.key) {
      case 'ArrowUp':
        y -= 1;
        break;
        case 'ArrowDown':
        y += 1;
        break;
        case 'ArrowLeft':
        x -= 1;
        flipped = true;
        break;
        case 'ArrowRight':
        x += 1;
        flipped = false;
        break;  
        default: 
        console.log('that is not a valid move');
        break;
    }

  //  turtle.style.background = 'red';
  //  turtle.style['bakground'] = 'red';
  //  turtle.style['--x'] = `${x}px`; // this didn't work is not added to the css
  //  turtle.style['--y'] = `${y}px`;
  
   turtle.setAttribute('style', `
    --rotate: ${flipped ? '180deg' : '0'};
    --x: ${x * speed}px
    --y: ${y * speed}px
    `);
  }

  window.addEventListener('keydown', handleKeyDown);
</script>
</body>

</html>